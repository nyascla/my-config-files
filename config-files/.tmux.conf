# =============================================================================
# Archivo de Configuración de TMUX por Gemini
# Objetivo: Copiado intuitivo con ratón y mejoras de calidad de vida.
# Fecha: 15 de Octubre, 2025
# =============================================================================

# --- 1. CONFIGURACIÓN GENERAL Y CALIDAD DE VIDA ---

# Cambiar el prefijo por defecto de C-b a C-a. Es más ergonómico.
unbind C-b
set-option -g prefix C-a
bind-key C-a send-prefix

# Aumentar el límite del historial de scroll.
set -g history-limit 10000

# Que los índices de ventanas y paneles empiecen en 1 en lugar de 0.
set -g base-index 1
setw -g pane-base-index 1

# Tiempo de escape más corto para mejorar la respuesta en Neovim/Vim.
set -s escape-time 0

# Habilitar soporte para colores de 256 bits.
set -g default-terminal "tmux-256color"
set -ag terminal-overrides ",xterm-256color:RGB"


# --- 2. MODO RATÓN (LA CARACTERÍSTICA PRINCIPAL) ---

# Activa el modo ratón. Permite hacer scroll, seleccionar ventanas y paneles,
# y redimensionarlos, todo con el ratón.
set -g mouse on


# --- 3. INTEGRACIÓN CON EL PORTAPAPELES DEL SISTEMA ---
# Esto es lo que hace la magia. Detecta si usas X11 (xclip) o Wayland (wl-copy)
# y configura tmux para que use la herramienta adecuada.

# Para macOS (pbcopy), descomenta la siguiente línea:
# bind-key -T copy-mode-vi MouseDragEnd1Pane send-keys -X copy-pipe-and-cancel "pbcopy"

# Para Linux (detecta automáticamente xclip o wl-copy)
# Cuando sueltas el ratón después de seleccionar (MouseDragEnd1Pane) en modo copia,
# el texto seleccionado se envía (-X copy-pipe-and-cancel) a xclip/wl-copy.
bind-key -T copy-mode-vi MouseDragEnd1Pane send-keys -X copy-pipe-and-cancel "xclip -selection clipboard -in || wl-copy"
bind-key -T copy-mode MouseDragEnd1Pane send-keys -X copy-pipe-and-cancel "xclip -selection clipboard -in || wl-copy"


# --- 4. ATAJOS DE TECLADO ÚTILES ---

# Recargar la configuración rápidamente con: Prefijo + r
bind r source-file ~/.tmux.conf \; display "Configuración recargada!"

# Dividir paneles con teclas más intuitivas: | para vertical, - para horizontal.
# Además, se abren en el directorio actual.
unbind '"'
unbind %
bind H split-window -h -c "#{pane_current_path}"
bind J split-window -v -c "#{pane_current_path}"

# Moverse entre paneles usando las teclas de Vim.
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R


# --- 5. APARIENCIA VISUAL (TEMA SENCILLO Y LIMPIO) ---

# Colores de la barra de estado
set -g status-style 'bg=#333333,fg=#BBBBBB'

# Contenido de la barra de estado (izquierda)
# Muestra el nombre de la sesión.
set -g status-left '#[fg=#EEEEEE,bold]Sess: #S #[default]'
set -g status-left-length 20

# Contenido de la barra de estado (derecha)
# Muestra la hora y fecha actuales.
set -g status-right '#[fg=#EEEEEE,bold]%d/%m/%Y #[fg=white]%H:%M '
set -g status-right-length 40

# Estilo de las ventanas en la barra de estado
setw -g window-status-current-style 'fg=#333333,bg=#00FF00,bold'
setw -g window-status-current-format ' #I:#W '

setw -g window-status-style 'fg=#BBBBBB,bg=#333333'
setw -g window-status-format ' #I:#W '

# Resaltar el panel activo
setw -g pane-active-border-style "fg=green"
setw -g pane-border-style "fg=gray"